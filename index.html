<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script src="script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.153.0/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three/examples/js/loaders/GLTFLoader.js"></script>
    <title>Index</title>
    <link rel="shortcut icon" href="Favicon/Favicon.png" type="image/x-icon">
    
        <!-- Meta description for better search results -->
        <meta name="Kilian HÃ¶ppner" content="Art & design portfolio.">    
</head>

<body>

    <!-- 'About' -->
    <h3>About</h3>

    <br>

    <h1>
        Kilian is a graphic designer and artist based in Berlin. 
        In his exploration of communication, he's mostly silly but can sometimes be serious, reminding us of our collective belonging. 
        With an interest in the extreme sides of the spectrum and the tension in between, each project becomes a canvas for exploration. 
        For collaborations, get in touch <a href="mailto:kilianhoppner@gmail.com?subject=let's%20collaborate!" class="hyperlink"><u>here</u></a>. 
        Or call me baby <a href="tel:+61410378301" class="hyperlink">(+61) 410 378 301</a>.
    </h1>

    <br>
    <br>
    <br>

    <!-- "Selected Work" -->
    <h3>Selected Work</h3>
    <br>

    <div>
        <h1><a href="Nonsense.html" id="Nonsense"> <i class="fa-regular fa-star"></i> Nonsense</a></h1>
        <h1><a href="Surveillancecorept1.html" id="Surveillancecorept1"> <i class="fa-regular fa-star"></i> #Surveillancecore pt.1</a></h1>
        <h1><a href="TheWeatherRoom.html" id="TheWeatherRoom"><i class="fa-regular fa-star"></i> The Weather Room</a></h1>
        <h1><a href="Branches.html" id="Branches"><i class="fa-regular fa-star"></i> Branches</a></h1>
        <h1><a href="NotTheBigIssue.html" id="NotTheBigIssue"><i class="fa-regular fa-star"></i> The Big Issue</a></h1>
        <h1><a href="TakeItSlow.html" id="TakeItSlow"><i class="fa-regular fa-star"></i> Take It Slow</a></h1>
        <h1><a href="FermeLesYeux.html" id="FermeLesYeux"><i class="fa-regular fa-star"></i> Ferme Les Yeux</a></h1>
        <h1><a href="DaddyLovesYou.html" id="DaddyLovesYou"><i class="fa-regular fa-star"></i> Daddy Loves You</a></h1>
    </div>

<br>
<br>


<!-- Hidden images for each header -->
<img id="hover-image-spt1" src="Surveillancecorept1/3.png" alt="Surveillancecore pt.1"/>
<img id="hover-image-tis" src="TakeItSlow/4.png" alt="Take It Slow"/>
<img id="hover-image-n" src="Nonsense/Nonsense3.png" alt="Nonsense"/>
<img id="hover-image-twr" src="TheWeatherRoom/2.png" alt="The Weather Room"/>
<img id="hover-image-b" src="Branches/Branches1.png" alt="Branches"/>
<img id="hover-image-ntbi" src="NotTheBigIssue/CoverPage3.png" alt="Not The Big Issue"/>
<img id="hover-image-fly" src="FermeLesYeux/2.png" alt="Ferme Les Yeux"/>
<img id="hover-image-dly" src="DaddyLovesYou/2.png" alt="Daddy Loves You"/>


<!-- Pop Up Window -->

<div class="popup" id="agePopup" style="display: none;">
    <div class="popup-content">
        <h1 style="font-family: Arial, sans-serif;">This is an adult website</h1>
        <p style="font-family: Arial, sans-serif;">
            This website contains age-restricted materials, including graphic content and depictions of extreme silliness. By entering, you affirm that you are at least 18 years old or the age of majority in the jurisdiction you are accessing the website from and you consent to viewing absurdly silly yet potentially amazing content.
        </p>
        <button class="enter" onclick="closePopup()" style="font-family: Arial, sans-serif;">I am 18 or older - Enter</button>
        <button class="exit" onclick="exitSite()" style="font-family: Arial, sans-serif;">I am under 18 - Exit</button>
    </div>
</div>











<!-- Styling -->

<style>


/* Hover effect for both icon and text */
h1 a:hover i,
h1 a:hover {
    color: yellow; /* Change both text and icon color to yellow */
    animation: jiggle 0.35s ease infinite; /* Apply the jiggle animation on hover */
}


/* General styling for hover images */
#hover-image-spt1,
#hover-image-tis,
#hover-image-n,
#hover-image-twr,
#hover-image-b,
#hover-image-ntbi,
#hover-image-fly,
#hover-image-dly {
    display: none; /* Hidden by default */
    position: fixed; /* Use fixed to position relative to the viewport */
    max-width: 42vw; /* Limit the width of the images */
    max-height: 65vh; /* Limit the height of the images */
    object-fit: contain; /* Ensure the image maintains its aspect ratio */
    left: 50%; /* Horizontal centring */
    transform: translate(-50%, -50%); /* Centre both horizontally and vertically */
    top: 50%; /* Default vertical centring for fixed positioning */
}

@keyframes jiggle {
    0%, 100% {
        transform: rotate(0deg);
    }
    25% {
        transform: rotate(4deg);
    }
    75% {
        transform: rotate(-4deg);
    }
}


/* Pop Up Window */

.popup {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(41, 41, 41, 0.9);
    color: rgb(255, 255, 255);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 10000;
}

.popup-content {
    background: rgb(237, 42, 255);
    color: rgb(255, 255, 255);
    padding: 1.1em;
    border-radius: 0.5em;
    text-align: center;
    max-width: 80vw;
    max-height: 95vh;
    box-shadow: 0 0.25em 0.625em rgba(0, 0, 0, 0.3);
    font-family: Arial, sans-serif;
    box-shadow: 0 0 1.5em 1em rgba(255, 48, 252, 0.9); /* Pink glow */
    
    /* Initial state for scaling */
    transform: scale(0); /* Start smaller */
    opacity: 0; /* Make it invisible initially */
    
    /* Animation */
    animation: scaleUp 1s ease-out forwards; /* Apply the scale-up animation */
}

/* Ensure the animation is applied only once when the popup is shown */
@keyframes scaleUp {
    0% {
        transform: scale(0);
        opacity: 0;
    }
    100% {
        transform: scale(1);
        opacity: 1;
    }
}


.popup h1 {
    font-size: 1.92em;
    margin-bottom: 0.5em;
}

.popup p {
    font-size: 1.25em;
    margin-bottom: 1.25em;
}

.popup button {
    font-size: 1.25em;
    padding: 0.625em 1.25em;
    margin: 0.3125em;
    border: none;
    border-radius: 0.25em;
    cursor: pointer;
    width: 14em;
    max-width: 100%;
    height: 3em;
    max-height: 100%;
    transition: transform 0.3s ease-in-out; /* Smooth scaling effect */
}

.popup button:hover {
    transform: scale(1.07); /* Slightly enlarge the button on hover */
}

.popup .enter {
    background-color: rgb(113, 210, 113);
    color: white;
    cursor: url('Cursor/CursorHand.png'), auto;
}

.popup .exit {
    background-color: rgb(137, 132, 135);
    color: white;
    cursor: url('Cursor/CursorHand.png'), auto;
}


</style>




<!-- Javascript -->

<script>
    
    // Function to calculate the middle of the viewport relative to the current scroll position
    function updateImagePosition(image) {
        const viewportHeight = window.innerHeight;
        const middle = viewportHeight / 2; // Vertical middle of the viewport
        image.style.top = `${middle}px`;
    }
    
    // Function to show/hide hover images for specific headers
    function handleHover(headerId, imageId) {
        const header = document.getElementById(headerId);
        const image = document.getElementById(imageId);
    
        header.addEventListener('mouseenter', function () {
            updateImagePosition(image); // Update position when the image is shown
            image.style.display = 'block';
        });
    
        header.addEventListener('mouseleave', function () {
            image.style.display = 'none';
        });
    
        // Update the position on scroll for better accuracy
        window.addEventListener('scroll', function () {
            if (image.style.display === 'block') {
                updateImagePosition(image);
            }
        });
    }
    
    // Check if the device width is greater than 768 pixels
    if (window.innerWidth > 768) {
        // Applying hover functionality to each header and its corresponding image
        handleHover('Surveillancecorept1', 'hover-image-spt1');
        handleHover('TakeItSlow', 'hover-image-tis');
        handleHover('Nonsense', 'hover-image-n');
        handleHover('TheWeatherRoom', 'hover-image-twr');
        handleHover('Branches', 'hover-image-b');
        handleHover('NotTheBigIssue', 'hover-image-ntbi');
        handleHover('FermeLesYeux', 'hover-image-fly');
        handleHover('DaddyLovesYou', 'hover-image-dly');
    } else {
        
        // Ensure images are hidden if on mobile
        document.querySelectorAll('img').forEach(function (image) {
            image.style.display = 'none';
        });
    }
    





// Parametric Figure

// Scene Setup
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
camera.position.set(0, 50, 220);

const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true, powerPreference: "low-power" });
renderer.setSize(window.innerWidth, window.innerHeight);
renderer.setPixelRatio(Math.min(window.devicePixelRatio, 1.5)); // Reduce pixel ratio for mobile
renderer.domElement.style.background = 'none';
renderer.domElement.style.position = 'absolute';
renderer.domElement.style.top = '24vh';
renderer.domElement.style.left = '50vw';
renderer.domElement.style.transform = 'translateX(-50%)';
renderer.domElement.style.pointerEvents = 'none';
renderer.domElement.style.zIndex = '1000';
document.body.appendChild(renderer.domElement);

// Lighting
const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
scene.add(ambientLight);
const directionalLight = new THREE.DirectionalLight(0xffffff, 0.6);
directionalLight.position.set(2, 2, 2);
scene.add(directionalLight);

// Load 3D Model
const loader = new THREE.GLTFLoader();
let parametricFigure;

loader.load(
    './models/parametricfigure.glb', // Ensure this path is correct
    function (gltf) {
        parametricFigure = gltf.scene;
        scene.add(parametricFigure);
        parametricFigure.scale.set(0.115, 0.115, 0.115);
        parametricFigure.position.set(0, 0, 0);

        parametricFigure.traverse((child) => {
            if (child.isMesh) {
                child.material = new THREE.MeshStandardMaterial({ color: 0xFFFF00 });
            }
        });

        const isMobile = window.innerWidth <= 768;
        let oscillationSpeed = isMobile ? 0.0005 : 0.0005;
        let oscillationAmplitude = isMobile ? 13 : 13;

        // Start the animation
        function animate() {
            if (document.hidden) return; // Skip rendering when the tab is not visible

            requestAnimationFrame(animate);

            if (parametricFigure) {
                parametricFigure.position.y = Math.sin(Date.now() * oscillationSpeed) * oscillationAmplitude;
                parametricFigure.rotation.y += 0.007;
            }

            renderer.render(scene, camera);
        }
        animate();
    },
    undefined,
    function (error) {
        console.error('Error loading the model:', error);
    }
);

// Throttle window resize
let resizeTimeout;
window.addEventListener('resize', () => {
    clearTimeout(resizeTimeout);
    resizeTimeout = setTimeout(() => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
    }, 200);
});

// Use passive scroll listeners
window.addEventListener(
    'scroll',
    () => {
        // Throttled scroll handler (if needed)
    },
    { passive: true }
);

// Ensure page refresh and model loads on first open
if (!sessionStorage.getItem('modelLoaded')) {
    sessionStorage.setItem('modelLoaded', 'true');
    window.location.reload();
}








// Pop Up Window 

// Check if the popup has already been shown using localStorage
if (!localStorage.getItem('popupShown') && !localStorage.getItem('indexButtonPressed')) {
    // Wait for the page to load fully
    window.onload = function () {
        // Delay the popup appearance (e.g., 2 seconds after the page loads)
        setTimeout(function() {
            document.getElementById('agePopup').style.display = 'flex'; // Show the popup
            localStorage.setItem('popupShown', 'true');  // Set the flag in localStorage to prevent future popups
        }, 600); // 600ms = 0.6 seconds delay
    };
} else if (!sessionStorage.getItem('popupSessionShown') && !localStorage.getItem('indexButtonPressed')) {
    // If localStorage flag exists but sessionStorage flag is not set, this is a fresh tab/window
    window.onload = function () {
        // Delay the popup appearance (e.g., 0.6 seconds after the page loads)
        setTimeout(function() {
            document.getElementById('agePopup').style.display = 'flex'; // Show the popup
            sessionStorage.setItem('popupSessionShown', 'true'); // Prevent the popup in the same session
        }, 600); // 600ms = 0.6 seconds delay
    };
} else {
    // Hide the popup if the flag is already set or if the index button was pressed
    document.getElementById('agePopup').style.display = 'none';
}

// Close the popup
function closePopup() {
    document.getElementById('agePopup').style.display = 'none';
    document.body.style.overflow = 'auto'; // Allow scrolling again
}

// Redirect to index.html when the "enter" button is clicked
document.querySelector('.popup .enter').addEventListener('click', function () {
    closePopup(); // Close the popup
    window.location.href = 'index.html'; // Redirect to index.html
});

// Redirect to another site
function exitSite() {
    window.location.href = 'https://www.google.com';
}

// Prevent popup from showing again when the "index" button is pressed
document.querySelector('.back-button').addEventListener('click', function () {
    localStorage.setItem('indexButtonPressed', 'true');  // Set flag when index button is pressed
});


    </script>

    


</body>
</html>

